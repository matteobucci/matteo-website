<!-- Bootstrap core JavaScript -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/bootstrap/js/bootstrap.bundle.min.js"></script>

        <!-- Plugin JavaScript -->
<script src="/lib/jquery-easing/jquery.easing.min.js"></script>

        <!-- Custom scripts for the website -->
<script src="/js/page-logic.js"></script>

<script>
$(document).ready(function(){
  $('[data-toggle="tooltip"]').tooltip();
});

function checkLength()
{
  var maxLenght = 1000;
  var fieldLength = document.getElementById('message').value.length;
  if(fieldLength <= maxLenght){
    document.getElementById("characterLeft").innerText = fieldLength + "/1000";
    return true;
  }
  else
  {
    var str = document.getElementById('message').value;
    str = str.substring(0, str.length - 1);
    document.getElementById('message').value = str;
  }
}

// this is the id of the submit button
$("#contact").submit(function(e) {

  e.preventDefault();

  var url = "contact-send.php"; // the script where you handle the form input.

  $("#submit").removeClass("enabled");
  $("#submit").addClass("disabled");

  $.ajax({
    type: "POST",
    url: url,
    data: $("#contact").serialize(), // serializes the form's elements.
    success: function(data)
    {
      if(data.trim() == "success"){
        $("#success-field").addClass("alert alert-success");
        $("#success-field").html("Message sent! I'll contact you as soon as I can");
      }else{
        $("#submit").removeClass('disabled');
        $("#submit").addClass('enabled');
        $("#success-field").addClass("alert alert-danger");
        $("#success-field").html("Something wrong happened. If it is urgent, please contact me at matteo.bucci.1995@gmail.com");
      }
    }
  });


  return true; // avoid to execute the actual submit of the form.
});

</script>